
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../graphql/">
      
      
        <link rel="next" href="../react-native/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.36">
    
    
      
        <title>React Hooks - Dev Sparknotes</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.06209087.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#react-hooks" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Dev Sparknotes" class="md-header__button md-logo" aria-label="Dev Sparknotes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Dev Sparknotes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              React Hooks
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Dev Sparknotes" class="md-nav__button md-logo" aria-label="Dev Sparknotes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Dev Sparknotes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Blender
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Blender
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../blender/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blender
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Docker
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Docker
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker Sparknotes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Github actions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Github actions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../github-actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub Actions Sparknotes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Graphql
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Graphql
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../graphql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GraphQL Sparknotes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    React hooks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            React hooks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    React Hooks
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    React Hooks
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rules-of-hooks" class="md-nav__link">
    <span class="md-ellipsis">
      Rules of Hooks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usestate" class="md-nav__link">
    <span class="md-ellipsis">
      useState
    </span>
  </a>
  
    <nav class="md-nav" aria-label="useState">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Syntax
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simple-example-counter" class="md-nav__link">
    <span class="md-ellipsis">
      Simple Example: Counter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intermediate-example-form-input" class="md-nav__link">
    <span class="md-ellipsis">
      Intermediate Example: Form Input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-example-multiple-state-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Complex Example: Multiple State Variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-list-management" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic List Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#best-practices-and-tips" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices and Tips
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#useeffect" class="md-nav__link">
    <span class="md-ellipsis">
      useEffect
    </span>
  </a>
  
    <nav class="md-nav" aria-label="useEffect">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-syntax-and-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Syntax and Examples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-1-component-did-mount" class="md-nav__link">
    <span class="md-ellipsis">
      Example 1: Component Did Mount
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-2-component-did-update" class="md-nav__link">
    <span class="md-ellipsis">
      Example 2: Component Did Update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gotchas" class="md-nav__link">
    <span class="md-ellipsis">
      Gotchas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Gotchas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#incorrect-dependency-array" class="md-nav__link">
    <span class="md-ellipsis">
      Incorrect Dependency Array
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#good-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      Good Use Cases
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bad-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      Bad Use Cases
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usecontext" class="md-nav__link">
    <span class="md-ellipsis">
      useContext
    </span>
  </a>
  
    <nav class="md-nav" aria-label="useContext">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-syntax_1" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Syntax
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#good-use-cases_1" class="md-nav__link">
    <span class="md-ellipsis">
      Good Use Cases
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bad-use-cases_1" class="md-nav__link">
    <span class="md-ellipsis">
      Bad Use Cases
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#useref" class="md-nav__link">
    <span class="md-ellipsis">
      useRef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="useRef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-syntax_2" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Syntax
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gotchas_1" class="md-nav__link">
    <span class="md-ellipsis">
      Gotchas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#good-use-cases_2" class="md-nav__link">
    <span class="md-ellipsis">
      Good Use Cases
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bad-use-cases_2" class="md-nav__link">
    <span class="md-ellipsis">
      Bad Use Cases
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usememo" class="md-nav__link">
    <span class="md-ellipsis">
      useMemo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="useMemo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-syntax_3" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Syntax
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#good-use-cases_3" class="md-nav__link">
    <span class="md-ellipsis">
      Good Use Cases
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bad-use-cases_3" class="md-nav__link">
    <span class="md-ellipsis">
      Bad Use Cases
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usecallback" class="md-nav__link">
    <span class="md-ellipsis">
      useCallback
    </span>
  </a>
  
    <nav class="md-nav" aria-label="useCallback">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-syntax_4" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Syntax
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#good-use-cases_4" class="md-nav__link">
    <span class="md-ellipsis">
      Good Use Cases
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bad-use-cases_4" class="md-nav__link">
    <span class="md-ellipsis">
      Bad Use Cases
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    React native
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            React native
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../react-native/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React Native
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sql
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Sql
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SQL
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Threejs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Threejs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../threejs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Three.js Sparknotes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Typescript
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Typescript
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../typescript/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TypeScript Sparknotes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Web performance optimization
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Web performance optimization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web-performance-optimization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web Performance Optimization
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rules-of-hooks" class="md-nav__link">
    <span class="md-ellipsis">
      Rules of Hooks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usestate" class="md-nav__link">
    <span class="md-ellipsis">
      useState
    </span>
  </a>
  
    <nav class="md-nav" aria-label="useState">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Syntax
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simple-example-counter" class="md-nav__link">
    <span class="md-ellipsis">
      Simple Example: Counter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intermediate-example-form-input" class="md-nav__link">
    <span class="md-ellipsis">
      Intermediate Example: Form Input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-example-multiple-state-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Complex Example: Multiple State Variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-list-management" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic List Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#best-practices-and-tips" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices and Tips
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#useeffect" class="md-nav__link">
    <span class="md-ellipsis">
      useEffect
    </span>
  </a>
  
    <nav class="md-nav" aria-label="useEffect">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-syntax-and-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Syntax and Examples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-1-component-did-mount" class="md-nav__link">
    <span class="md-ellipsis">
      Example 1: Component Did Mount
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-2-component-did-update" class="md-nav__link">
    <span class="md-ellipsis">
      Example 2: Component Did Update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gotchas" class="md-nav__link">
    <span class="md-ellipsis">
      Gotchas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Gotchas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#incorrect-dependency-array" class="md-nav__link">
    <span class="md-ellipsis">
      Incorrect Dependency Array
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#good-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      Good Use Cases
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bad-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      Bad Use Cases
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usecontext" class="md-nav__link">
    <span class="md-ellipsis">
      useContext
    </span>
  </a>
  
    <nav class="md-nav" aria-label="useContext">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-syntax_1" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Syntax
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#good-use-cases_1" class="md-nav__link">
    <span class="md-ellipsis">
      Good Use Cases
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bad-use-cases_1" class="md-nav__link">
    <span class="md-ellipsis">
      Bad Use Cases
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#useref" class="md-nav__link">
    <span class="md-ellipsis">
      useRef
    </span>
  </a>
  
    <nav class="md-nav" aria-label="useRef">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-syntax_2" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Syntax
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gotchas_1" class="md-nav__link">
    <span class="md-ellipsis">
      Gotchas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#good-use-cases_2" class="md-nav__link">
    <span class="md-ellipsis">
      Good Use Cases
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bad-use-cases_2" class="md-nav__link">
    <span class="md-ellipsis">
      Bad Use Cases
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usememo" class="md-nav__link">
    <span class="md-ellipsis">
      useMemo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="useMemo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-syntax_3" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Syntax
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#good-use-cases_3" class="md-nav__link">
    <span class="md-ellipsis">
      Good Use Cases
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bad-use-cases_3" class="md-nav__link">
    <span class="md-ellipsis">
      Bad Use Cases
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usecallback" class="md-nav__link">
    <span class="md-ellipsis">
      useCallback
    </span>
  </a>
  
    <nav class="md-nav" aria-label="useCallback">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-syntax_4" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Syntax
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#good-use-cases_4" class="md-nav__link">
    <span class="md-ellipsis">
      Good Use Cases
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bad-use-cases_4" class="md-nav__link">
    <span class="md-ellipsis">
      Bad Use Cases
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="react-hooks">React Hooks</h1>
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li>
<p><a href="#rules-of-hooks">Rules of Hooks</a></p>
</li>
<li>
<p><a href="#usestate">useState</a>: This is the most fundamental hook, which lets you add state to function components. By calling useState, you can declare state variables in a component.</p>
</li>
<li>
<p><a href="#useeffect">useEffect</a>: This hook lets you perform side effects in function components. It is a powerful tool for data fetching, subscriptions, or manually changing the DOM in React components. You can think of useEffect as componentDidMount, componentDidUpdate, and componentWillUnmount combined.</p>
</li>
<li>
<p><a href="#usecontext">useContext</a>: This hook allows you to subscribe to React context without introducing nesting. It lets you share values like themes or user data across the component tree without passing props down manually at every level.</p>
</li>
<li>
<p><a href="#useref">useRef</a>: This hook allows you to persist values between renders without causing a re-render of the component. It can be used to store a mutable value that does not cause re-renders when updated. It’s also useful for referencing DOM elements directly.</p>
</li>
<li>
<p><a href="#usememo">useMemo</a>: Both hooks let you optimize performance by memoizing values and functions. useMemo saves the computed value of a function so it doesn’t need to be re-executed if its dependencies haven’t changed</p>
</li>
<li>
<p><a href="#usecallback">useCallback</a>: returns a memoized version of the callback that only changes if one of the dependencies has changed</p>
</li>
</ol>
<h2 id="rules-of-hooks">Rules of Hooks</h2>
<p>React Hooks, introduced in React 16.8, must be used following certain rules to ensure that your components function correctly and to maintain code consistency and readability. Here are the key rules of hooks:</p>
<ul>
<li>
<p><strong>Only Call Hooks at the Top Level:</strong> Hooks should be called at the top level of your React function components or custom hooks. This means you shouldn't call hooks inside loops, conditions, or nested functions. This rule ensures that hooks are called in the same order each time a component renders, which is essential for React to correctly preserve the state of hooks across multiple renders.</p>
</li>
<li>
<p><strong>Only Call Hooks from React Functions:</strong> You should only call hooks from React function components or from custom hooks. This rule helps ensure that all stateful logic in a component is clearly visible from its source code and follows React's functional programming paradigm.</p>
</li>
<li>
<p><strong>Use the <code>eslint-plugin-react-hooks</code> Plugin:</strong> While this isn’t a rule enforced by React itself, it is highly recommended to use the eslint-plugin-react-hooks which enforces both of the above rules and more at linting time. This plugin will help catch violations of the rules of hooks as part of your development process, making your code safer and more bug-resistant.</p>
</li>
</ul>
<p>These rules are crucial for taking full advantage of React Hooks' capabilities while avoiding bugs and inconsistencies in your application's behavior. Adhering to them ensures that hooks work as expected, maintaining the internal state and lifecycle events of your components correctly across renders.</p>
<h2 id="usestate">useState</h2>
<p>The <code>useState</code> hook is a fundamental hook in React that lets you add state to functional components. Before hooks, state was only available in class components, but <code>useState</code> allows you to use local state within function components.</p>
<h3 id="basic-syntax">Basic Syntax</h3>
<pre><code class="language-javascript">const [state, setState] = useState(initialState);
</code></pre>
<ul>
<li><code>state</code> is the current value of the state variable.</li>
<li><code>setState</code> is a function that updates the state.</li>
<li><code>initialState</code> is the value the state is initialized to; it can be any data type.</li>
</ul>
<h3 id="simple-example-counter">Simple Example: Counter</h3>
<p>Example 1: Counter</p>
<pre><code class="language-javascript">function Counter() {
  const [count, setCount] = useState(0);

  return (
    &lt;div&gt;
      &lt;p&gt;You clicked {count} times&lt;/p&gt;
      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;
        Click me
      &lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<p>In this example, the <code>useState</code> hook is used to keep track of how many times a button has been clicked.</p>
<h3 id="intermediate-example-form-input">Intermediate Example: Form Input</h3>
<p>Example 2: Text Input</p>
<pre><code class="language-javascript">function TextInput() {
  const [text, setText] = useState(&quot;&quot;);

  const handleChange = (event) =&gt; {
    setText(event.target.value);
  };

  return (
    &lt;input type=&quot;text&quot; value={text} onChange={handleChange} /&gt;
  );
}
</code></pre>
<p>This example demonstrates how useState can manage the input field’s state. The state updates on every keystroke.</p>
<h3 id="complex-example-multiple-state-variables">Complex Example: Multiple State Variables</h3>
<p>Example 3: User Registration Form</p>
<pre><code class="language-javascript">function RegistrationForm() {
  const [formData, setFormData] = useState({
    username: '',
    email: '',
    password: ''
  });

  const handleChange = (e) =&gt; {
    const { name, value } = e.target;
    setFormData(prevData =&gt; ({
      ...prevData,
      [name]: value
    }));
  };

  const handleSubmit = (e) =&gt; {
    e.preventDefault();
    console.log(formData);
  };

  return (
    &lt;form onSubmit={handleSubmit}&gt;
      &lt;input
        type=&quot;text&quot;
        name=&quot;username&quot;
        value={formData.username}
        onChange={handleChange}
        placeholder=&quot;Username&quot;
      /&gt;
      &lt;input
        type=&quot;email&quot;
        name=&quot;email&quot;
        value={formData.email}
        onChange={handleChange}
        placeholder=&quot;Email&quot;
      /&gt;
      &lt;input
        type=&quot;password&quot;
        name=&quot;password&quot;
        value={formData.password}
        onChange={handleChange}
        placeholder=&quot;Password&quot;
      /&gt;
      &lt;button type=&quot;submit&quot;&gt;Register&lt;/button&gt;
    &lt;/form&gt;
  );
}
</code></pre>
<p>In this more complex example, <code>useState</code> is used to manage an object containing multiple fields. The <code>handleChange</code> function updates the specific field in the object based on the input name.</p>
<h3 id="dynamic-list-management">Dynamic List Management</h3>
<p>Example 4: Todo List</p>
<pre><code class="language-javascript">function TodoApp() {
  const [todos, setTodos] = useState([]);
  const [text, setText] = useState('');

  const addTodo = () =&gt; {
    if (text !== &quot;&quot;) {
      setTodos([...todos, { text, id: Date.now() }]);
      setText('');
    }
  };

  return (
    &lt;div&gt;
      &lt;input
        type=&quot;text&quot;
        value={text}
        onChange={(e) =&gt; setText(e.target.value)}
      /&gt;
      &lt;button onClick={addTodo}&gt;Add Todo&lt;/button&gt;
      &lt;ul&gt;
        {todos.map(todo =&gt; (
          &lt;li key={todo.id}&gt;{todo.text}&lt;/li&gt;
        ))}
      &lt;/ul&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<p>Here, <code>useState</code> is used for managing a list of todos and a text input. This demonstrates handling arrays in state, showing how to add new items without mutating the original state array.</p>
<h3 id="best-practices-and-tips">Best Practices and Tips</h3>
<ol>
<li>
<p>Initialization: Use lazy initialization for expensive calculations:</p>
<p><code>javascript
const [value, setValue] = useState(() =&gt; computeExpensiveValue());</code></p>
</li>
<li>
<p>Functional Updates: When updating state based on previous state, use functional updates to ensure that you are working with the most current state:</p>
<p><code>javascript
setCount(prevCount =&gt; prevCount + 1);</code></p>
</li>
<li>
<p>Object Updates: Remember to spread previous state when updating objects or arrays to avoid accidental state mutations:</p>
<p><code>javascript
setFormData(prev =&gt; ({ ...prev, ...newData }));</code></p>
</li>
</ol>
<p><code>useState</code> is a highly flexible hook that can handle various types of data, making it suitable for nearly any kind of state management scenario in a functional component.</p>
<h2 id="useeffect">useEffect</h2>
<p><code>useEffect</code> is a versatile hook in React that manages side effects in functional components. It replaces lifecycle methods such as <code>componentDidMount</code>, <code>componentDidUpdate</code>, and <code>componentWillUnmount</code> from class components, providing a unified API to handle side effects.</p>
<h3 id="basic-syntax-and-examples">Basic Syntax and Examples</h3>
<p>The basic syntax of useEffect is as follows:</p>
<pre><code class="language-javascript">useEffect(() =&gt; {
  // Code to run on mount and updates
  return () =&gt; {
    // Cleanup code
  };
}, [dependencies]);
</code></pre>
<ul>
<li>The first argument is a function that React will run after the DOM updates.</li>
<li>The optional second argument is a dependencies array that tells React when to re-run the effect.</li>
</ul>
<h3 id="example-1-component-did-mount">Example 1: Component Did Mount</h3>
<pre><code class="language-javascript">Copy code
useEffect(() =&gt; {
  // This code runs after the component mounts
  console.log('Component mounted');
}, []); // Empty dependency array means this effect runs only once
</code></pre>
<h3 id="example-2-component-did-update">Example 2: Component Did Update</h3>
<pre><code class="language-javascript">const [count, setCount] = useState(0);

useEffect(() =&gt; {
  // This runs after `count` changes
  document.title = `You clicked ${count} times`;
}, [count]); // Effect depends on `count`
</code></pre>
<p>Example 3: Component Will Unmount</p>
<pre><code class="language-javascript">useEffect(() =&gt; {
  return () =&gt; {
    // This code runs when the component is about to unmount
    console.log('Component will unmount');
  };
}, []); // Effect runs only once
</code></pre>
<h3 id="gotchas">Gotchas</h3>
<ul>
<li>Skipping the Dependency Array: Without a dependencies array, useEffect will run after every render, which can lead to performance issues or unexpected behavior.</li>
<li>Incorrect Dependency Array: If the dependencies array does not include every variable used inside the effect that changes over time, it can lead to bugs where old values are used.</li>
<li>Overfetching in Effects: Placing API calls directly inside useEffect without any conditions can lead to unnecessary data fetching on every render.</li>
</ul>
<h4 id="incorrect-dependency-array">Incorrect Dependency Array</h4>
<p>Handling missing dependencies in the useEffect hook is a common challenge when developing React applications. Here are strategies to manage dependencies effectively, ensuring that your effects run correctly without introducing bugs:</p>
<ol>
<li>Always Include All Used State and Props</li>
</ol>
<p>The simplest rule is to always include all state and props that you use inside the effect in the dependencies array. This ensures that if any of these values change, the effect will rerun, using the latest values.</p>
<p>Example: Correct Dependencies</p>
<pre><code class="language-javascript">const [count, setCount] = useState(0);

useEffect(() =&gt; {
  const interval = setInterval(() =&gt; {
    console.log(count); // `count` is included in the dependencies array
  }, 1000);

  return () =&gt; clearInterval(interval);
}, [count]); // Correctly includes `count`
</code></pre>
<ol>
<li>Refactor Your Code to Minimize Dependencies</li>
</ol>
<p>If your effect depends on a prop or state value that changes frequently, causing the effect to run too often, consider refactoring your component. Sometimes, splitting a component into smaller parts or changing the structure of your state can help reduce unnecessary dependencies.</p>
<p>Example: Refactoring to Reduce Dependencies</p>
<pre><code class="language-javascript">const useInterval = (callback, delay) =&gt; {
  const savedCallback = useRef(callback);

  // Remember the latest callback.
  useEffect(() =&gt; {
    savedCallback.current = callback;
  }, [callback]);

  // Set up the interval.
  useEffect(() =&gt; {
    function tick() {
      savedCallback.current();
    }
    if (delay !== null) {
      let id = setInterval(tick, delay);
      return () =&gt; clearInterval(id);
    }
  }, [delay]); // `delay` is stable, doesn't depend on changing state directly
}
</code></pre>
<ol>
<li>Use a Ref for Values You Don’t Want to Trigger Reruns</li>
</ol>
<p>If you need to use a value inside an effect but don’t want changes to it to cause the effect to rerun, you can store the value in a <code>useRef</code>. This is useful for values that are used for reading in the effect but shouldn’t necessarily trigger it to re-execute.</p>
<p>Example: Using Refs to Ignore Updates</p>
<pre><code class="language-javascript">const [count, setCount] = useState(0);
const countRef = useRef(count);

useEffect(() =&gt; {
  const timer = setTimeout(() =&gt; {
    console.log(countRef.current); // Reads from ref, changes do not trigger rerun
  }, 1000);

  return () =&gt; clearTimeout(timer);
}, []); // Empty dependency array, effect runs only once

// Update ref whenever count changes
useEffect(() =&gt; {
  countRef.current = count;
}, [count]);
</code></pre>
<ol>
<li>Use Functional Updates for SetState When Possible</li>
</ol>
<p>If you need to update state based on the previous state and want to avoid including it in the dependencies array, you can use a functional update. This lets you update the state without depending on its current value in the effect.</p>
<p>Example: Functional Update for State</p>
<pre><code class="language-javascript">const [count, setCount] = useState(0);

useEffect(() =&gt; {
  const interval = setInterval(() =&gt; {
    setCount(currentCount =&gt; currentCount + 1); // No dependency on `count`
  }, 1000);

  return () =&gt; clearInterval(interval);
}, []); // No need to include `count`
</code></pre>
<p>By using these strategies, you can manage your dependencies more effectively, ensuring that your effects are both correct and performant.</p>
<h3 id="good-use-cases">Good Use Cases</h3>
<ul>
<li>Fetching Data: Ideal for API calls but should be combined with condition checks or dependencies to prevent overfetching.</li>
<li>Setting up Subscriptions or Event Listeners: Useful for adding event listeners to the DOM or subscribing to a data source, with cleanup to remove them.</li>
<li>Synchronizing with External Systems: Such as updating the document title or syncing with local storage.</li>
</ul>
<p>Example: Fetching Data</p>
<pre><code class="language-javascript">useEffect(() =&gt; {
  const fetchData = async () =&gt; {
    const response = await fetch('https://api.example.com/data');
    const data = await response.json();
    console.log(data);
  };

  fetchData();
}, []); // Run once on mount
</code></pre>
<h3 id="bad-use-cases">Bad Use Cases</h3>
<ul>
<li>Heavy Computations: Heavy synchronous computations in useEffect can block rendering. Use useMemo for expensive calculations instead.</li>
<li>Non-Dependent Side Effects: If you're using variables inside useEffect that change over time but aren't included in the dependencies array, it can lead to bugs.</li>
<li>Example: Misusing Dependencies</li>
</ul>
<pre><code class="language-javascript">const [count, setCount] = useState(0);

useEffect(() =&gt; {
  const timer = setTimeout(() =&gt; {
    // This may not always log the latest count
    console.log(count);
  }, 1000);

  return () =&gt; clearTimeout(timer);
}, []); // `count` is missing from dependencies
</code></pre>
<p>To make the most out of <code>useEffect</code>, always ensure your dependencies array is correct, understand when your effects run, and clean up any external subscriptions or event listeners to avoid memory leaks.</p>
<h2 id="usecontext">useContext</h2>
<p>The <code>useContext</code> hook in React allows functional components to access the value of a React context. This hook simplifies the process of passing data through the component tree without having to pass props manually at every level.</p>
<h3 id="basic-syntax_1">Basic Syntax</h3>
<pre><code class="language-javascript">const value = useContext(MyContext);
</code></pre>
<ul>
<li><code>MyContext</code> is the context object (the value returned from<code>React.createContext()</code>).</li>
<li><code>value</code> will be equal to the current context value for that context, determined by the closest matching <code>Provider</code> above it in the tree.</li>
</ul>
<p>Simple Example: Theme Context
Example 1: Using Context to Manage Themes</p>
<pre><code class="language-javascript">import React, { useContext, createContext, useState } from 'react';

// Create a Context
const ThemeContext = createContext();

function ThemeProvider({ children }) {
  const [theme, setTheme] = useState('light');
  return (
    &lt;ThemeContext.Provider value={{ theme, setTheme }}&gt;
      {children}
    &lt;/ThemeContext.Provider&gt;
  );
}

function Button() {
  const { theme, setTheme } = useContext(ThemeContext);
  return (
    &lt;button onClick={() =&gt; setTheme(theme === 'light' ? 'dark' : 'light')}&gt;
      Switch to {theme === 'light' ? 'dark' : 'light'} theme
    &lt;/button&gt;
  );
}

function App() {
  return (
    &lt;ThemeProvider&gt;
      &lt;div&gt;
        &lt;Button /&gt;
      &lt;/div&gt;
    &lt;/ThemeProvider&gt;
  );
}
</code></pre>
<p>In this example, <code>ThemeContext</code> allows any component within the <code>ThemeProvider</code> to read or update the theme without prop drilling.</p>
<p>Intermediate Example: Authentication Context
Example 2: Using Context for User Authentication</p>
<pre><code class="language-javascript">import React, { useContext, createContext, useState } from 'react';

const AuthContext = createContext(null);

function AuthProvider({ children }) {
  const [user, setUser] = useState(null);

  const login = (username) =&gt; {
    setUser({ username });
  };

  const logout = () =&gt; {
    setUser(null);
  };

  return (
    &lt;AuthContext.Provider value={{ user, login, logout }}&gt;
      {children}
    &lt;/AuthContext.Provider&gt;
  );
}

function Login() {
  const { login } = useContext(AuthContext);
  return &lt;button onClick={() =&gt; login('JohnDoe')}&gt;Log in&lt;/button&gt;;
}

function UserProfile() {
  const { user, logout } = useContext(AuthContext);
  if (!user) {
    return &lt;div&gt;Please log in&lt;/div&gt;;
  }
  return (
    &lt;div&gt;
      Welcome {user.username}! &lt;button onClick={logout}&gt;Log out&lt;/button&gt;
    &lt;/div&gt;
  );
}

function App() {
  return (
    &lt;AuthProvider&gt;
      &lt;Login /&gt;
      &lt;UserProfile /&gt;
    &lt;/AuthProvider&gt;
  );
}
</code></pre>
<p>This example provides an authentication context that can be accessed by any component within the <code>AuthProvider</code> to display user information or manage login/logout actions.</p>
<p>Complex Example: Language and Localization Context
Example 3: Multi-Language Support</p>
<pre><code class="language-javascript">import React, { useContext, createContext, useState } from 'react';

const LanguageContext = createContext();

function LanguageProvider({ children }) {
  const [language, setLanguage] = useState('en');
  const phrases = {
    en: { greeting: &quot;Hello&quot; },
    fr: { greeting: &quot;Bonjour&quot; },
    es: { greeting: &quot;Hola&quot; }
  };

  return (
    &lt;LanguageContext.Provider value={{ language, setLanguage, phrases: phrases[language] }}&gt;
      {children}
    &lt;/LanguageContext.Provider&gt;
  );
}

function Greeting() {
  const { phrases, setLanguage } = useContext(LanguageContext);
  return (
    &lt;div&gt;
      {phrases.greeting}
      &lt;button onClick={() =&gt; setLanguage('fr')}&gt;French&lt;/button&gt;
      &lt;button onClick={() =&gt; setLanguage('es')}&gt;Spanish&lt;/button&gt;
    &lt;/div&gt;
  );
}

function App() {
  return (
    &lt;LanguageProvider&gt;
      &lt;Greeting /&gt;
    &lt;/LanguageProvider&gt;
  );
}
</code></pre>
<p>This example shows how to use context for language and localization, allowing any component to access and modify the current language and get the correct phrases.</p>
<h3 id="good-use-cases_1">Good Use Cases</h3>
<ul>
<li><strong>Global State Management:</strong> Ideal for data like user authentication, themes, or preferred languages, which needs to be accessed throughout the application.</li>
<li><strong>Avoiding Prop Drilling:</strong> When you need to pass data through many layers of components, useContext reduces complexity.</li>
</ul>
<h3 id="bad-use-cases_1">Bad Use Cases</h3>
<ul>
<li><strong>High-Frequency Updates:</strong> Context is not optimized for high-frequency updates. Using context for frequently changing values (like the state of an animation or rapidly updating data) can lead to performance issues.</li>
<li><strong>Local Component State:</strong> Using context as a substitute for local component state management can overcomplicate the component architecture unnecessarily.</li>
</ul>
<p><code>useContext</code> is a powerful tool for specific scenarios where shared state or behaviors are logically scoped to a large part of your application's component tree. However, it should be used judiciously to avoid performance pitfalls and unnecessary re-renders.</p>
<h2 id="useref">useRef</h2>
<p>The <code>useRef</code> hook in React is a versatile tool that provides a way to persist values across renders without causing the component to re-render. It returns a mutable ref object whose <code>.current</code> property is initialized to the passed argument. The object returned from <code>useRef</code> will persist for the lifetime of the component.</p>
<h3 id="basic-syntax_2">Basic Syntax</h3>
<pre><code class="language-javascript">const refContainer = useRef(initialValue);
</code></pre>
<h3 id="examples">Examples</h3>
<p>Example 1: Accessing DOM Elements
One of the most common uses of useRef is to access DOM elements directly. You can use the ref as a way to hold a reference to a DOM node.</p>
<pre><code class="language-javascript">function TextInputWithFocusButton() {
  const inputEl = useRef(null);

  const onButtonClick = () =&gt; {
    // Explicitly focus the text input using the raw DOM API
    inputEl.current.focus();
  };

  return (
    &lt;&gt;
      &lt;input ref={inputEl} type=&quot;text&quot; /&gt;
      &lt;button onClick={onButtonClick}&gt;Focus the input&lt;/button&gt;
    &lt;/&gt;
  );
}
</code></pre>
<p>Example 2: Storing Previous State or Props
<code>useRef</code> can be used to keep track of previous state or props value, which can be useful in effects where you need to compare the previous and current value.</p>
<pre><code class="language-javascript">function Counter() {
  const [count, setCount] = useState(0);
  const prevCountRef = useRef();

  useEffect(() =&gt; {
    prevCountRef.current = count;
  }, [count]);

  return (
    &lt;div&gt;
      &lt;h1&gt;Now: {count}, before: {prevCountRef.current}&lt;/h1&gt;
      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;Increment&lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<h3 id="gotchas_1">Gotchas</h3>
<ol>
<li>
<p><strong>Modifying <code>.current</code> Does Not Trigger Re-render:</strong> Changes to the <code>.current</code> property do not cause the component to re-render. This can be a feature or a bug depending on what you’re trying to achieve.</p>
</li>
<li>
<p><strong>Initialization and Referential Integrity:</strong> The initial value of <code>.current</code> is set only once during the initial render. If you pass props or state to <code>useRef</code> as an initial value, it won't update when props or state changes.</p>
</li>
</ol>
<h3 id="good-use-cases_2">Good Use Cases</h3>
<ul>
<li><strong>Manipulating DOM Elements:</strong> Perfect for cases when you need to directly interact with a DOM node, like setting focus, scrolling an item into view, or integrating with third-party DOM libraries.</li>
<li><strong>Storing the Previous Values:</strong> Useful for comparing previous and current props or state inside <code>useEffect</code>.</li>
<li><strong>Storing Instances:</strong> Such as timers (e.g., <code>setTimeout</code> or <code>setInterval</code>) or other mutable values that shouldn't cause a re-render when updated.</li>
</ul>
<p>Example: Storing Instances</p>
<pre><code class="language-javascript">function TimerComponent() {
  const intervalRef = useRef();

  useEffect(() =&gt; {
    intervalRef.current = setInterval(() =&gt; {
      console.log('Timer tick');
    }, 1000);

    return () =&gt; clearInterval(intervalRef.current);
  }, []);

  return &lt;div&gt;Check the console for timer ticks.&lt;/div&gt;;
}
</code></pre>
<h3 id="bad-use-cases_2">Bad Use Cases</h3>
<ul>
<li><strong>Avoid Using Ref for Deriving Data:</strong> Ref should not be used as a workaround to avoid re-rendering when deriving data from props or state. Instead, use memoization techniques like useMemo.</li>
<li><strong>Overusing Refs for Business Logic:</strong> Storing everything in refs to avoid re-renders can lead to a design where component's local state is difficult to track and debug. Use state management appropriately.</li>
</ul>
<p><code>useRef</code> is a powerful hook when used properly. It can help manage focus, manage timers, and read values across renders without additional rendering costs, but it should be used judiciously to keep your components' logic clear and maintainable.</p>
<h2 id="usememo">useMemo</h2>
<p>The <code>useMemo</code> hook in React is used to memoize expensive calculations. It returns a memoized value, meaning the value is recalculated only when one of its dependencies has changed. This can help to avoid costly recalculations on every render and can improve performance in certain scenarios.</p>
<h3 id="basic-syntax_3">Basic Syntax</h3>
<pre><code class="language-javascript">const memoizedValue = useMemo(() =&gt; computeExpensiveValue(), [dependencies]);
</code></pre>
<ul>
<li>The first parameter is a function that returns the value you want to memoize.</li>
<li>The second parameter is an array of dependencies. The memoized function will only recompute when one of these dependencies has changed.</li>
</ul>
<p>Simple Example: Memoizing a Computed Value
Example 1: Calculating Factorial</p>
<pre><code class="language-javascript">import { useMemo, useState } from 'react';

function Factorial() {
  const [number, setNumber] = useState(1);
  const factorial = useMemo(() =&gt; {
    const calculateFactorial = n =&gt; (n &lt;= 0 ? 1 : n * calculateFactorial(n - 1));
    return calculateFactorial(number);
  }, [number]);

  return (
    &lt;div&gt;
      Factorial of 
      &lt;input 
        type=&quot;number&quot; 
        value={number} 
        onChange={e =&gt; setNumber(Number(e.target.value))}
      /&gt;
      is {factorial}
    &lt;/div&gt;
  );
}
</code></pre>
<p>This example shows how <code>useMemo</code> is used to calculate the factorial of a number only when the number changes, avoiding unnecessary recalculations.</p>
<p>Intermediate Example: Memoizing Components
Example 2: Memoizing a List Component</p>
<pre><code class="language-javascript">import { useMemo, useState } from 'react';

function List({ items }) {
  const sortedList = useMemo(() =&gt; {
    const sortedItems = [...items];
    sortedItems.sort((a, b) =&gt; a - b);
    return sortedItems.map(item =&gt; &lt;li key={item}&gt;{item}&lt;/li&gt;);
  }, [items]);

  return &lt;ul&gt;{sortedList}&lt;/ul&gt;;
}

function App() {
  const [numberList, setNumberList] = useState([3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5]);

  return (
    &lt;div&gt;
      &lt;List items={numberList} /&gt;
      &lt;button onClick={() =&gt; setNumberList([...numberList, Math.floor(Math.random() * 10)])}&gt;
        Add Number
      &lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<p>This example demonstrates how <code>useMemo</code> can be used to sort a list only when the items in the list change, thus avoiding unnecessary computations on every render.</p>
<p>Complex Example: Memoizing with Multiple Dependencies
Example 3: Expense Report Calculation</p>
<pre><code class="language-javascript">import { useMemo, useState } from 'react';

function ExpenseReport({ expenses, filter }) {
  const filteredExpenses = useMemo(() =&gt; {
    return expenses.filter(e =&gt; e.amount &gt; filter.minAmount &amp;&amp; e.category === filter.category);
  }, [expenses, filter]);

  const total = useMemo(() =&gt; {
    return filteredExpenses.reduce((sum, current) =&gt; sum + current.amount, 0);
  }, [filteredExpenses]);

  return (
    &lt;div&gt;
      Total Expense: ${total}
      &lt;ul&gt;
        {filteredExpenses.map(expense =&gt; (
          &lt;li key={expense.id}&gt;{expense.description}: ${expense.amount}&lt;/li&gt;
        ))}
      &lt;/ul&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<p>In this example, useMemo is used to filter and calculate the total of expenses, which are recomputed only when expenses or filter changes.</p>
<h3 id="good-use-cases_3">Good Use Cases</h3>
<ul>
<li>Expensive Calculations: Ideal for expensive calculations that don’t need to be recomputed on every render unless specific data changes.</li>
<li>Referential Equality: Useful when you need to maintain the same reference between renders if the inputs have not changed (e.g., complex configurations, large data sets).</li>
</ul>
<h3 id="bad-use-cases_3">Bad Use Cases</h3>
<ul>
<li>Simple Calculations: Using <code>useMemo</code> for trivial calculations is unnecessary and can lead to more overhead than benefit.</li>
<li>Running Effects: <code>useMemo</code> should not be used for side effects; useEffect is designed for handling side effects.</li>
<li><code>useMemo</code> is a powerful optimization tool when used correctly. It helps avoid unnecessary computations and maintains referential equality, which can prevent unnecessary renders in child components that rely on reference equality for performance optimizations (like <code>React.memo</code> or <code>shouldComponentUpdate</code>). However, it should be used judiciously and not for every value or function in a component, as misuse can lead to more complex and less performant code.</li>
</ul>
<h2 id="usecallback">useCallback</h2>
<p>The <code>useCallback</code> hook in React is used to memoize callback functions. This hook is particularly useful when passing callbacks to optimized child components that rely on reference equality to prevent unnecessary renders. It returns a memoized version of the callback that only changes if one of the dependencies has changed.</p>
<h3 id="basic-syntax_4">Basic Syntax</h3>
<pre><code class="language-javascript">const memoizedCallback = useCallback(() =&gt; {
    doSomething(a, b);
}, [a, b]);
</code></pre>
<ul>
<li>The first parameter is the callback function you want to memoize.</li>
<li>The second parameter is an array of dependencies. The callback will only be recomputed if one of these dependencies changes.</li>
</ul>
<p>Simple Example: Increment Counter
Example 1: Memoizing a Counter Callback</p>
<pre><code class="language-javascript">import { useState, useCallback } from 'react';

function Counter() {
  const [count, setCount] = useState(0);

  const increment = useCallback(() =&gt; {
    setCount(prevCount =&gt; prevCount + 1);
  }, []);

  return (
    &lt;div&gt;
      Count: {count}
      &lt;button onClick={increment}&gt;Increment&lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<p>This example shows how <code>useCallback</code> can be used to ensure that the increment function does not get recreated on every render unless its dependencies change. Since there are no dependencies, the function is created only once.</p>
<p>Intermediate Example: Passing Callbacks to Child Components
Example 2: Memoizing Callbacks Passed to Child Components</p>
<pre><code class="language-javascript">import { useState, useCallback } from 'react';

function Button({ onClick, children }) {
  console.log(&quot;Button rendered:&quot;, children);
  return &lt;button onClick={onClick}&gt;{children}&lt;/button&gt;;
}

const MemoizedButton = React.memo(Button);

function App() {
  const [count, setCount] = useState(0);
  const [otherState, setOtherState] = useState(false);

  const increment = useCallback(() =&gt; {
    setCount(prevCount =&gt; prevCount + 1);
  }, []);

  return (
    &lt;div&gt;
      &lt;MemoizedButton onClick={increment}&gt;Increment&lt;/MemoizedButton&gt;
      &lt;button onClick={() =&gt; setOtherState(!otherState)}&gt;Toggle Other State&lt;/button&gt;
      &lt;p&gt;Other state: {otherState.toString()}&lt;/p&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<p>In this example, the <code>increment</code> callback is passed to a memoized <code>Button</code> component. Using <code>useCallback</code> ensures that the <code>Button</code> component does not re-render unnecessarily when App re-renders due to changes in otherState, as the <code>increment</code> function’s reference remains the same.</p>
<p>Complex Example: Callback with Multiple Dependencies
Example 3: Using useCallback with Multiple Dependencies</p>
<pre><code class="language-javascript">import { useState, useCallback } from 'react';

function SearchResults({ query, onSearch }) {
  console.log(&quot;Rendering SearchResults&quot;);
  return (
    &lt;div&gt;
      &lt;input 
        type=&quot;text&quot; 
        value={query} 
        onChange={(e) =&gt; onSearch(e.target.value)} 
        placeholder=&quot;Search...&quot; 
      /&gt;
    &lt;/div&gt;
  );
}

const MemoizedSearchResults = React.memo(SearchResults);

function App() {
  const [query, setQuery] = useState(&quot;&quot;);
  const [otherState, setOtherState] = useState(false);

  const handleSearch = useCallback((newQuery) =&gt; {
    setQuery(newQuery);
  }, []);

  return (
    &lt;div&gt;
      &lt;MemoizedSearchResults query={query} onSearch={handleSearch} /&gt;
      &lt;button onClick={() =&gt; setOtherState(!otherState)}&gt;Toggle Other State&lt;/button&gt;
      &lt;p&gt;Other state: {otherState.toString()}&lt;/p&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<p>Here, <code>handleSearch</code> uses <code>useCallback</code> to avoid unnecessary re-renders of the <code>MemoizedSearchResults</code> component when other parts of the component tree update (<code>otherState</code> in this case).</p>
<h3 id="good-use-cases_4">Good Use Cases</h3>
<ul>
<li>Optimized Child Components: Useful when passing callbacks to child components that should only re-render when actual changes occur.</li>
<li>Complex Callbacks with Dependencies: When callbacks depend on props or state that might change frequently, <code>useCallback</code> can help in reducing unnecessary recalculations and re-renders.</li>
</ul>
<h3 id="bad-use-cases_4">Bad Use Cases</h3>
<ul>
<li><strong>Trivial Callbacks:</strong> Using <code>useCallback</code> for simple callbacks (like setting state) that are passed to components that do not require memoization can introduce unnecessary complexity and overhead.</li>
<li><strong>Static Callbacks without Dependencies:</strong> If a callback does not depend on props or state, defining it inside the component without <code>useCallback</code> can be simpler and more efficient, especially if it’s not passed down.</li>
</ul>
<p><code>useCallback</code> is a powerful tool when used in the right context, particularly in performance optimizations involving deeply nested components or complex React applications. However, it should be used judiciously to avoid premature optimization and additional complexity in cases where it's not beneficial.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>